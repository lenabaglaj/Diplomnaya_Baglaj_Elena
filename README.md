# Diplomnaya_Baglaj_Elena
Автотесты для сайта Онлайн-кинотеатр "Кинопоиск"

Проект автоматизирует тестирование сайта онлайн-кинотеатра https://www.kinopoisk.ru/ с помощью UI и API тестов.
Для корректной работы тестов необходимо получить токен в телеграм-боте. Нужно нажать кнопку /start, затем
Получить доступ, выбрать тариф Free, вступить в группу и подтвердить вступление. Скопировать токен.
В нести в headers

В рамках проекта реализованы:

UI тесты

Поиск фильма по названию и переход на его страницу, поиск актера по имени и переход на его страницу, ввод
не допустимого значения в поисковую строку.

API тест:

Поиск фильмов, поиск фильмов по году, поиск фильмов по ID, поиск актера, поиск рецензии.

Использование Page Object для UI тестов.

 Подготовка окружения

Клонировать проект:
git clone <ссылка-на-репозиторий>
cd project

Создать виртуальное окружение и активировать его:
python -m venv venv
venv\Scripts\activate          # Windows

Установить зависимости:
pip install -r requirements.txt
 
Запуск тестов

UI тесты:
pytest test_ui.py --alluredir=allure-results

API тесты:
pytest test_api.py --alluredir=allure-results

Все тесты:
pytest --alluredir=allure-results


Просмотр Allure отчёта

Сформировать результаты:
pytest --alluredir=allure-results

Запустить сервер Allure:
allure serve allure-results

Примечания

UI тесты используют WebDriverWait вместо time.sleep() для стабильности.

API тесты используют библиотеку requests.

 Периодически при старте теста появляется окно с капчей (защита от робота) на странице сайта
 (так как увеличение времени ожидания кликабельности в WebDriverWait результата не приносит)
 в test_ui.py что дает сбой.

